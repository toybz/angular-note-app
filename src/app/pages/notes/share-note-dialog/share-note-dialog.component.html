<div class="share-note-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Share note</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>note id {{ data.noteId }}</p>
      <mat-list>
        @for (item of renderedList(); track item.user.id) {
          <mat-list-item>
            <p>
              <span>
                {{ item.user?.username }}
              </span>
              @if (item.shareDetail) {
                <mat-slide-toggle
                  [checked]="true"
                  (toggleChange)="undoShare(item.shareDetail.id)"
                ></mat-slide-toggle>
              } @else {
                <mat-slide-toggle
                  [checked]="false"
                  (toggleChange)="shareNote(item.user.id!, data.noteId)"
                ></mat-slide-toggle>
              }
            </p>
          </mat-list-item>
        }
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
