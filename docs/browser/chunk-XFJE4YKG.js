import{e as C,f as P,g as V,h as k}from"./chunk-LAJUDMLL.js";import{J as N,K as M,M as v,O as S,Q as u,R as F,S as _,T as b,U as E,V as T,W as y,X as w,Y as B,Z as I,x as h}from"./chunk-IZDZWGML.js";import"./chunk-GNEFEJG6.js";import"./chunk-WXI33M2S.js";import{Hb as s,Lb as g,Qa as l,ba as d,ea as f,ib as r,pb as a,qb as o,rb as m,vb as p}from"./chunk-RMPGOJBJ.js";var Y=(()=>{let n=class n{constructor(){this.formBuilder=d(w),this.noteService=d(k),this.inEditMode=!1,this.editNoteId=null,this.noteForm=this.formBuilder.group({title:["",u.required],content:["",u.required],tags:new b([])}),this.tags=[...V]}set id(t){if(this.noteService.getNote(t)){this.inEditMode=!0,this.editNoteId=t;let e=this.noteService.getNote(t);this.noteForm.patchValue({title:e.title,content:e.content})}}get selectedTags(){return this.noteForm.value.tags||[]}createNote(){let t=this.noteForm.value;this.inEditMode?this.noteService.editNote(this.editNoteId,t):(this.noteService.addNote(t),this.noteForm.reset({title:"",content:"",tags:[]}))}tagsSelectionChangeHandler(t){this.noteForm.patchValue({tags:t})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=f({type:n,selectors:[["app-create-edit-note"]],inputs:{id:"id"},standalone:!0,features:[g],decls:14,vars:5,consts:[["title","New Note",3,"showBackButton"],[3,"formGroup"],["appearance","outline",1,"note-title"],["matInput","","formControlName","title","placeholder","E.g My Note "],[3,"onTagsSelectionChange","editMode","selectedTags"],["appearance","outline",1,"note-content"],["matInput","","formControlName","content","placeholder","Note content"],["mat-flat-button","","color","primary",1,"note-submit-button",3,"click","disabled"]],template:function(e,i){e&1&&(m(0,"app-header",0),a(1,"app-page-content")(2,"form",1)(3,"mat-form-field",2)(4,"mat-label"),s(5,"Title"),o(),m(6,"input",3),o(),a(7,"app-tags-container",4),p("onTagsSelectionChange",function(O){return i.tagsSelectionChangeHandler(O)}),o(),a(8,"mat-form-field",5)(9,"mat-label"),s(10,"Content"),o(),m(11,"textarea",6),o(),a(12,"button",7),p("click",function(){return i.createNote()}),s(13," Save "),o()()()),e&2&&(r("showBackButton",!0),l(2),r("formGroup",i.noteForm),l(5),r("editMode",!0)("selectedTags",i.selectedTags),l(5),r("disabled",i.noteForm.invalid))},dependencies:[v,I,M,B,E,S,F,_,T,y,N,P,h,C],styles:[".note-title[_ngcontent-%COMP%]{width:100%}.note-content[_ngcontent-%COMP%]{width:100%;margin-top:10px}.note-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:400px;resize:vertical}.note-submit-button[_ngcontent-%COMP%]{width:100%}"]});let c=n;return c})();export{Y as CreateEditNoteComponent};
